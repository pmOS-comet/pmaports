# Reference: <https://postmarketos.org/devicepkg>
maintainer="User0 <user0thenyancat@proton.me>"
pkgname=device-amazon-checkers
pkgdesc="Amazon Echo Show 5 1st Generation"
pkgver=3
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="armv7"
options="!check !archcheck"

# without the firmware package, the kernel seems to look for it for ~2 to ~3 mins,
# therefore putting this in depends and not _pmb_recommends
#
# pulseaudio crashes the kernel
depends="
	firmware-amazon-checkers
	linux-amazon-checkers
	mkbootimg
	postmarketos-base
	postmarketos-base-downstream
	!postmarketos-base-ui-audio-backend-pulseaudio
"
makedepends="devicepkg-dev"

source="
	deviceinfo
	kernel-cmdline.conf
	modules-load.conf
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

sha512sums="
3ee03b6bb950931355c8ee6eaf067caac368e1b47359fac3d0b92d1fa2f5a3fff451ea96586b6dd14f44c2e1f3b1551890aceb8c4b4bcc08b9289908bcb3f130  deviceinfo
c326cba8a4f7b26404da10d7c163dd562f837c0f40fe4a722c21d32ef3edb4d3b1a813f9fdb20aca2a1fa81635cb8e5d58864f7d89a3aa4bea58a42300721d0c  kernel-cmdline.conf
36298b8b278a3bc09ede09680533a54dc68ba265d79c4d701a54375b2be133bd23d133733187637b5a3d4b364be7a0740a9530f117e575866a49bd3229e8c0ef  modules-load.conf
"
