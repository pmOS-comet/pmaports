diff --git a/arch/arm64/configs/pinenote_defconfig.orig b/arch/arm64/configs/pinenote_defconfig
index f27b482..7dbcc93 100644
--- a/arch/arm64/configs/pinenote_defconfig.orig
+++ b/arch/arm64/configs/pinenote_defconfig
@@ -1,5 +1,43 @@
+# pmos kconfig settings
+CONFIG_UEVENT_HELPER=y
+CONFIG_NULL_TTY=m
+CONFIG_FW_LOADER_PAGED_BUF=y
+CONFIG_FW_LOADER_COMPRESS=y
+CONFIG_FW_LOADER_COMPRESS_XZ=y
+CONFIG_FW_LOADER_COMPRESS_ZSTD=y
+CONFIG_UDMABUF=y
+CONFIG_BINFMT_MISC=m
+CONFIG_UCLAMP_TASK=y
+CONFIG_UCLAMP_TASK_GROUP=y
+CONFIG_DM_INTEGRITY=m
+CONFIG_DM_VERITY=m
+CONFIG_EROFS_FS=y
+CONFIG_EROFS_FS_ZIP=y
+
+# clang
+
+CONFIG_LTO=y
+CONFIG_LTO_CLANG=y
+CONFIG_HAS_LTO_CLANG=y
+# CONFIG_LTO_NONE is not set
+# CONFIG_LTO_CLANG_FULL is not set
+CONFIG_CFI_CLANG=y
+CONFIG_CFI=y
+CONFIG_CFI_ICALL_NORMALIZE_INTEGERS=y
+CONFIG_NTSYNC=m
+CONFIG_HAVE_CFI_ICALL_NORMALIZE_INTEGERS_CLANG=y
+# CONFIG_CFI_PERMISSIVE is not set
+CONFIG_SHADOW_CALL_STACK=y
+
+
 CONFIG_DEFAULT_HOSTNAME="pinenote"
-# CONFIG_SWAP is not set
+CONFIG_SWAP=y
+CONFIG_ZRAM=y
+CONFIG_ZSMALLOC=y
+CONFIG_ZRAM_BACKEND_ZSTD=y
+CONFIG_SQUASHFS=m
+CONFIG_SQUASHFS_XATTR=y
+CONFIG_SQUASHFS_XZ=y
 CONFIG_SYSVIPC=y
 CONFIG_POSIX_MQUEUE=y
 CONFIG_GENERIC_IRQ_DEBUGFS=y
@@ -16,7 +54,6 @@ CONFIG_TASK_DELAY_ACCT=y
 CONFIG_TASK_XACCT=y
 CONFIG_TASK_IO_ACCOUNTING=y
 CONFIG_PSI=y
-CONFIG_PSI_DEFAULT_DISABLED=y
 CONFIG_IKCONFIG=m
 CONFIG_IKCONFIG_PROC=y
 CONFIG_LOG_BUF_SHIFT=18
@@ -26,7 +63,7 @@ CONFIG_MEMCG=y
 CONFIG_BLK_CGROUP=y
 CONFIG_CGROUP_SCHED=y
 CONFIG_CFS_BANDWIDTH=y
-CONFIG_RT_GROUP_SCHED=y
+# CONFIG_RT_GROUP_SCHED is not set
 CONFIG_CGROUP_PIDS=y
 CONFIG_CGROUP_RDMA=y
 CONFIG_CGROUP_FREEZER=y
@@ -42,6 +79,7 @@ CONFIG_NAMESPACES=y
 CONFIG_USER_NS=y
 CONFIG_CHECKPOINT_RESTORE=y
 CONFIG_BLK_DEV_INITRD=y
+CONFIG_BLK_DEV_NBD=m
 # CONFIG_RD_BZIP2 is not set
 # CONFIG_RD_LZMA is not set
 # CONFIG_RD_XZ is not set
@@ -131,7 +169,7 @@ CONFIG_CHR_DEV_SG=m
 CONFIG_SCSI_SCAN_ASYNC=y
 # CONFIG_SCSI_LOWLEVEL is not set
 CONFIG_MD=y
-CONFIG_BLK_DEV_DM=m
+CONFIG_BLK_DEV_DM=y
 CONFIG_DM_THIN_PROVISIONING=m
 # CONFIG_LEGACY_PTYS is not set
 # CONFIG_LDISC_AUTOLOAD is not set
@@ -154,10 +192,10 @@ CONFIG_EXTCON=y
 CONFIG_EXT4_FS=y
 CONFIG_EXT4_FS_POSIX_ACL=y
 CONFIG_EXT4_FS_SECURITY=y
-CONFIG_XFS_FS=y
+CONFIG_XFS_FS=m
 # CONFIG_XFS_SUPPORT_V4 is not set
 CONFIG_XFS_POSIX_ACL=y
-CONFIG_BTRFS_FS=m
+CONFIG_BTRFS_FS=y
 CONFIG_BTRFS_FS_POSIX_ACL=y
 CONFIG_F2FS_FS=y
 CONFIG_F2FS_FS_SECURITY=y
@@ -179,7 +217,7 @@ CONFIG_TMPFS_POSIX_ACL=y
 CONFIG_TMPFS_INODE64=y
 CONFIG_HUGETLBFS=y
 CONFIG_CONFIGFS_FS=y
-CONFIG_EFIVAR_FS=y
+CONFIG_EFIVAR_FS=m
 # CONFIG_MISC_FILESYSTEMS is not set
 CONFIG_NLS_CODEPAGE_437=y
 CONFIG_NLS_ISO8859_1=y
@@ -208,9 +246,9 @@ CONFIG_ENABLE_DEFAULT_TRACERS=y
 # CONFIG_STRICT_DEVMEM is not set
 # CONFIG_RUNTIME_TESTING_MENU is not set
 CONFIG_ANDROID_BINDER_IPC=y
-CONFIG_ANDROID_BINDERFS=y
+# CONFIG_ANDROID_BINDERFS is not set
 CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
-CONFIG_DM_CRYPT=m
+CONFIG_DM_CRYPT=y
 CONFIG_KEXEC=y
 CONFIG_KEXEC_FILE=y
 CONFIG_KEXEC_CORE=y
@@ -266,17 +304,17 @@ CONFIG_CRYPTO_ECDH=m
 CONFIG_CRYPTO_ECDSA=m
 CONFIG_CRYPTO_ECRDSA=m
 CONFIG_CRYPTO_CURVE25519=m
-CONFIG_CRYPTO_AES=m
+CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_AES_TI=m
 CONFIG_CRYPTO_BLOWFISH=m
 CONFIG_CRYPTO_DES=m
 CONFIG_CRYPTO_TWOFISH=m
 CONFIG_CRYPTO_CHACHA20=m
-CONFIG_CRYPTO_CBC=m
+CONFIG_CRYPTO_CBC=y
 CONFIG_CRYPTO_CTR=m
 CONFIG_CRYPTO_CTS=m
-CONFIG_CRYPTO_ECB=m
-CONFIG_CRYPTO_XTS=m
+CONFIG_CRYPTO_ECB=y
+CONFIG_CRYPTO_XTS=y
 CONFIG_CRYPTO_AEGIS128=m
 CONFIG_CRYPTO_CHACHA20POLY1305=m
 CONFIG_CRYPTO_CCM=m
@@ -287,13 +325,14 @@ CONFIG_CRYPTO_ESSIV=m
 CONFIG_CRYPTO_BLAKE2B=m
 CONFIG_CRYPTO_CMAC=m
 CONFIG_CRYPTO_GHASH=m
-CONFIG_CRYPTO_HMAC=m
-CONFIG_CRYPTO_MD5=m
+CONFIG_CRYPTO_HMAC=y
+CONFIG_CRYPTO_MD5=y
+CONFIG_CRYPTO_MD4=m
 CONFIG_CRYPTO_MICHAEL_MIC=m
 CONFIG_CRYPTO_POLY1305=m
-CONFIG_CRYPTO_SHA1=m
+CONFIG_CRYPTO_SHA1=y
 CONFIG_CRYPTO_SHA256=y
-CONFIG_CRYPTO_SHA512=m
+CONFIG_CRYPTO_SHA512=y
 CONFIG_CRYPTO_SHA3=m
 CONFIG_CRYPTO_STREEBOG=m
 CONFIG_CRYPTO_WP512=m
@@ -317,6 +356,7 @@ CONFIG_CRYPTO_USER_API_SKCIPHER=m
 CONFIG_CRYPTO_USER_API_RNG=m
 CONFIG_CRYPTO_USER_API_AEAD=m
 # CONFIG_CRYPTO_USER_API_ENABLE_OBSOLETE is not set
+CONFIG_PKCS8_PRIVATE_KEY_PARSER=m
 
 ##
 ## file: drivers/ata/Kconfig
@@ -495,7 +535,9 @@ CONFIG_ARM_SCMI_TRANSPORT_SMC=y
 ##
 ## file: drivers/firmware/efi/Kconfig
 ##
-CONFIG_EFI_BOOTLOADER_CONTROL=y
+CONFIG_EFI_CAPSULE_LOADER=y
+CONFIG_EFI_ZBOOT=y
+CONFIG_EFI_SBAT_FILE=""
 
 ##
 ## file: drivers/firmware/smccc/Kconfig
@@ -544,10 +586,135 @@ CONFIG_DRM_ROCKCHIP_EBC=m
 ##
 ## file: drivers/hid/Kconfig
 ##
+CONFIG_HID_GENERIC=m
 CONFIG_HID_BATTERY_STRENGTH=y
 CONFIG_HIDRAW=y
 CONFIG_UHID=m
-CONFIG_HID_MICROSOFT=y
+CONFIG_HID_MICROSOFT=m
+CONFIG_HID_A4TECH=m
+CONFIG_HID_ACCUTOUCH=m
+CONFIG_HID_ACRUX_FF=y
+CONFIG_HID_ACRUX=m
+CONFIG_HID_ALPS=m
+CONFIG_HID_APPLEIR=m
+CONFIG_HID_APPLE=m
+CONFIG_HID_AUREAL=m
+CONFIG_HID_BELKIN=m
+CONFIG_HID_BETOP_FF=m
+CONFIG_HID_BIGBEN_FF=m
+CONFIG_HID_CHERRY=m
+CONFIG_HID_CHICONY=m
+CONFIG_HID_CMEDIA=m
+CONFIG_HID_CORSAIR=m
+CONFIG_HID_COUGAR=m
+CONFIG_HID_CP2112=m
+CONFIG_HID_CREATIVE_SB0540=m
+CONFIG_HID_CYPRESS=m
+CONFIG_HID_DRAGONRISE=m
+CONFIG_HID_ELAN=m
+CONFIG_HID_ELECOM=m
+CONFIG_HID_ELO=m
+CONFIG_HID_EMS_FF=m
+CONFIG_HID_EZKEY=m
+CONFIG_HID_FT260=m
+CONFIG_HID_GEMBIRD=m
+CONFIG_HID_GFRM=m
+CONFIG_HID_GLORIOUS=m
+CONFIG_HID_GREENASIA=m
+CONFIG_HID_GT683R=m
+CONFIG_HID_GYRATION=m
+CONFIG_HID_HOLTEK=m
+CONFIG_HID_ICADE=m
+CONFIG_HID_ITE=m
+CONFIG_HID_JABRA=m
+CONFIG_HID_KENSINGTON=m
+CONFIG_HID_KEYTOUCH=m
+CONFIG_HID_KYE=m
+CONFIG_HID_LCPOWER=m
+CONFIG_HID_LED=m
+CONFIG_HID_LETSKETCH=m
+CONFIG_HID_LOGITECH_DJ=m
+CONFIG_HID_LOGITECH_HIDPP=m
+CONFIG_HID_LOGITECH=m
+CONFIG_HID_MACALLY=m
+CONFIG_HID_MALTRON=m
+CONFIG_HID_MAYFLASH=m
+CONFIG_HID_MCP2221=m
+CONFIG_HID_MEGAWORLD_FF=m
+CONFIG_HID_MONTEREY=m
+CONFIG_HID_MULTITOUCH=m
+CONFIG_HID_NINTENDO=m
+CONFIG_HID_NTI=m
+CONFIG_HID_NTRIG=m
+CONFIG_HID_ORTEK=m
+CONFIG_HID_PANTHERLORD=m
+CONFIG_HID_PENMOUNT=m
+CONFIG_HID_PETALYNX=m
+CONFIG_HID_PICOLCD_BACKLIGHT=y
+CONFIG_LCD_CLASS_DEVICE=m
+CONFIG_HID_PICOLCD_LCD=y
+CONFIG_HID_PICOLCD_LEDS=y
+CONFIG_HID_PICOLCD=m
+CONFIG_HID_PID=y
+CONFIG_HID_PLANTRONICS=m
+CONFIG_HID_PLAYSTATION=m
+CONFIG_HID_PRIMAX=m
+CONFIG_HID_PRODIKEYS=m
+CONFIG_HID_PXRC=m
+CONFIG_HID_RAZER=m
+CONFIG_HID_RETRODE=m
+CONFIG_HID_RMI=m
+CONFIG_HID_ROCCAT=m
+CONFIG_HID_SAITEK=m
+CONFIG_HID_SAMSUNG=m
+CONFIG_HID_SEMITEK=m
+CONFIG_HID_SENSOR_ACCEL_3D=m
+CONFIG_HID_SENSOR_ALS=m
+CONFIG_HID_SENSOR_CUSTOM_INTEL_HINGE=m
+CONFIG_HID_SENSOR_DEVICE_ROTATION=m
+CONFIG_HID_SENSOR_GYRO_3D=m
+CONFIG_HID_SENSOR_HUB=m
+CONFIG_HID_SENSOR_HUMIDITY=m
+CONFIG_HID_SENSOR_IIO_COMMON=m
+CONFIG_HID_SENSOR_IIO_TRIGGER=m
+CONFIG_HID_SENSOR_INCLINOMETER_3D=m
+CONFIG_HID_SENSOR_MAGNETOMETER_3D=m
+CONFIG_HID_SENSOR_TEMP=m
+CONFIG_HID_SIGMAMICRO=m
+CONFIG_HID_SMARTJOYPLUS=m
+CONFIG_HID_SONY=m
+CONFIG_HID_SPEEDLINK=m
+CONFIG_HID_STEAM=m
+CONFIG_HID_STEELSERIES=m
+CONFIG_HID_SUNPLUS=m
+CONFIG_HID_THINGM=m
+CONFIG_HID_THRUSTMASTER=m
+CONFIG_HID_TIVO=m
+CONFIG_HID_TOPRE=m
+CONFIG_HID_TOPSEED=m
+CONFIG_HID_TWINHAN=m
+CONFIG_HID_U2FZERO=m
+CONFIG_HID_UCLOGIC=m
+CONFIG_HID_UDRAW_PS3=m
+CONFIG_HID_VIEWSONIC=m
+CONFIG_HID_MAGICMOUSE=m
+CONFIG_HID_VIVALDI=m
+CONFIG_HID_WACOM=m
+CONFIG_HID_WALTOP=m
+CONFIG_HID_WIIMOTE=m
+CONFIG_HID_XIAOMI=m
+CONFIG_HID_XINMO=m
+CONFIG_HID_ZEROPLUS=m
+CONFIG_HID_ZYDACRON=m
+CONFIG_HID_EVISION=m
+CONFIG_HID_NVIDIA_SHIELD=m
+CONFIG_HID_GOOGLE_STADIA_FF=m
+CONFIG_HID_WINWING=m
+CONFIG_HID_GOODIX_SPI=m
+
+
+
+
 
 ##
 ## file: drivers/hid/i2c-hid/Kconfig
@@ -586,7 +753,7 @@ CONFIG_I2C_RK3X=y
 ##
 ## file: drivers/iio/Kconfig
 ##
-CONFIG_IIO=m
+CONFIG_IIO=y
 CONFIG_IIO_SW_TRIGGER=m
 
 ##
@@ -609,7 +776,7 @@ CONFIG_IIO_SCMI=m
 ## file: drivers/input/Kconfig
 ##
 CONFIG_INPUT_MOUSEDEV=m
-CONFIG_INPUT_EVDEV=y
+CONFIG_INPUT_EVDEV=m
 
 ##
 ## file: drivers/input/keyboard/Kconfig
@@ -617,14 +784,19 @@ CONFIG_INPUT_EVDEV=y
 CONFIG_KEYBOARD_ADC=m
 # CONFIG_KEYBOARD_ATKBD is not set
 CONFIG_KEYBOARD_GPIO=y
+CONFIG_KEY_DH_OPERATIONS=y
 
 ##
 ## file: drivers/input/misc/Kconfig
 ##
 CONFIG_INPUT_MISC=y
-CONFIG_INPUT_UINPUT=m
+CONFIG_INPUT_UINPUT=y
 CONFIG_INPUT_RK805_PWRKEY=y
 CONFIG_INPUT_WS8100_PEN=m
+CONFIG_INPUT_JOYSTICK=y
+CONFIG_JOYSTICK_XPAD=m
+CONFIG_JOYSTICK_XPAD_FF=y
+CONFIG_JOYSTICK_XPAD_LEDS=y
 
 ##
 ## file: drivers/input/mouse/Kconfig
@@ -654,13 +826,13 @@ CONFIG_ROCKCHIP_IOMMU=y
 CONFIG_NEW_LEDS=y
 CONFIG_LEDS_CLASS=y
 CONFIG_LEDS_CLASS_FLASH=y
-CONFIG_LEDS_CLASS_MULTICOLOR=y
+CONFIG_LEDS_CLASS_MULTICOLOR=m
 CONFIG_LEDS_GPIO=y
 
 ##
 ## file: drivers/leds/trigger/Kconfig
 ##
-CONFIG_LEDS_TRIGGER_TIMER=y
+CONFIG_LEDS_TRIGGER_TIMER=m
 CONFIG_LEDS_TRIGGER_ONESHOT=y
 CONFIG_LEDS_TRIGGER_HEARTBEAT=y
 CONFIG_LEDS_TRIGGER_BACKLIGHT=y
@@ -672,7 +844,7 @@ CONFIG_LEDS_TRIGGER_TRANSIENT=y
 CONFIG_LEDS_TRIGGER_CAMERA=y
 CONFIG_LEDS_TRIGGER_PANIC=y
 CONFIG_LEDS_TRIGGER_NETDEV=y
-CONFIG_LEDS_TRIGGER_PATTERN=y
+CONFIG_LEDS_TRIGGER_PATTERN=m
 CONFIG_LEDS_TRIGGER_TTY=y
 
 ##
@@ -889,6 +1061,7 @@ CONFIG_VIDEO_HANTRO_ROCKCHIP=y
 ##
 CONFIG_USB_VIDEO_CLASS=m
 CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
+CONFIG_USB_PRINTER=m
 
 ##
 ## file: drivers/mfd/Kconfig
@@ -1221,12 +1394,13 @@ CONFIG_USB_CONFIGFS_F_UVC=y
 ## file: drivers/usb/gadget/legacy/Kconfig
 ##
 CONFIG_USB_GADGETFS=y
-CONFIG_USB_FUNCTIONFS=m
+# CONFIG_USB_FUNCTIONFS is not set
 CONFIG_USB_FUNCTIONFS_ETH=y
 CONFIG_USB_FUNCTIONFS_GENERIC=y
 CONFIG_USB_CDC_COMPOSITE=m
 CONFIG_USB_G_MULTI=m
 # CONFIG_USB_G_MULTI_RNDIS is not set
+CONFIG_USB_CONFIGFS_RNDIS=y
 
 ##
 ## file: drivers/usb/host/Kconfig
@@ -1285,6 +1459,7 @@ CONFIG_DW_WATCHDOG=y
 ##
 CONFIG_FILE_LOCKING=y
 CONFIG_NETWORK_FILESYSTEMS=y
+CONFIG_MISC_FILESYSTEMS=y
 
 ##
 ## file: fs/cachefiles/Kconfig
@@ -1408,6 +1583,9 @@ CONFIG_IP_NF_NAT=m
 CONFIG_IP_NF_TARGET_MASQUERADE=m
 CONFIG_IP_NF_TARGET_REDIRECT=m
 CONFIG_IP_NF_MANGLE=m
+CONFIG_IP_NF_TARGET_REJECT=m
+CONFIG_IP_NF_IPTABLES_LEGACY=m
+
 
 ##
 ## file: net/ipv6/Kconfig
@@ -1423,6 +1601,12 @@ CONFIG_IPV6_MULTIPLE_TABLES=y
 ## file: net/ipv6/netfilter/Kconfig
 ##
 CONFIG_IP6_NF_IPTABLES=m
+CONFIG_IP6_NF_TARGET_MASQUERADE=m
+CONFIG_IP6_NF_FILTER=m
+CONFIG_IP6_NF_TARGET_REJECT=m
+CONFIG_IP6_NF_NAT=m
+CONFIG_IP6_NF_IPTABLES_LEGACY=m
+
 
 ##
 ## file: net/mac80211/Kconfig
@@ -1437,6 +1621,7 @@ CONFIG_MAC80211_DEBUGFS=y
 ##
 CONFIG_NF_CONNTRACK=m
 CONFIG_NF_TABLES=m
+CONFIG_NF_TABLES_INET=y
 CONFIG_NFT_CT=m
 CONFIG_NFT_CONNLIMIT=m
 CONFIG_NFT_MASQ=m
@@ -1444,6 +1629,19 @@ CONFIG_NFT_REDIR=m
 CONFIG_NFT_REJECT=m
 CONFIG_NFT_COMPAT=m
 CONFIG_NFT_HASH=m
+CONFIG_NFT_LOG=m
+CONFIG_NFT_LIMIT=m
+CONFIG_NFT_MASQ=m
+CONFIG_NFT_NAT=m
+CONFIG_NFT_FIB=m
+CONFIG_NFT_FIB_IPV4=m
+CONFIG_NFT_FIB_IPV6=m
+CONFIG_NF_TABLES_IPV4=y
+CONFIG_NF_REJECT_IPV4=m
+CONFIG_NF_NAT=m
+CONFIG_NF_TABLES_IPV6=y
+CONFIG_NF_REJECT_IPV6=m
+CONFIG_NF_CONNTRACK_MARK=y
 CONFIG_NETFILTER_XTABLES=m
 CONFIG_NETFILTER_XT_TARGET_CHECKSUM=m
 CONFIG_NETFILTER_XT_TARGET_MARK=m
@@ -1451,6 +1649,14 @@ CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=m
 CONFIG_NETFILTER_XT_MATCH_CONNTRACK=m
 CONFIG_NETFILTER_XT_MATCH_IPVS=m
 CONFIG_NETFILTER_XT_MATCH_POLICY=m
+CONFIG_NETFILTER_XT_MATCH_COMMENT=m
+CONFIG_NETFILTER_XTABLES_LEGACY=y
+CONFIG_NETFILTER_XT_MATCH_MARK=m
+CONFIG_NETFILTER_XT_MATCH_MULTIPORT=m
+CONFIG_NETFILTER_XT_MATCH_STATISTIC=m
+CONFIG_NETFILTER_XT_MATCH_TCPMSS=m
+CONFIG_NETFILTER_XT_TARGET_TCPMSS=m
+
 
 ##
 ## file: net/netfilter/ipvs/Kconfig
