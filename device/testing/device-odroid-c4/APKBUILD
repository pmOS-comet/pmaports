# Reference: <https://postmarketos.org/devicepkg>
maintainer="hexaheximal <hexaheximal@proton.me>"
pkgname=device-odroid-c4
pkgdesc="ODROID C4"
pkgver=3
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="postmarketos-base u-boot-amlogic-odroid-c4 soc-amlogic-aarch64 linux-postmarketos-amlogic"
makedepends="devicepkg-dev"
subpackages="$pkgname-nonfree-firmware:nonfree_firmware"
source="deviceinfo kernel-cmdline.conf modules-initfs"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

nonfree_firmware() {
	pkgdesc="ODROID C4 firmware"
	depends="linux-firmware-meson"
	mkdir "$subpkgdir"
}

sha512sums="
ee6387a937d7f558c5489292a159a0e3b4329111b38b2df8dc1671c8a5bda0e86be8ad66594fd847d2f0239bb2d4e2b0f097dd7d19e3cb5e0de83c1383f9d901  deviceinfo
97e88eaa9b8e7989a20d2572479fe5d1fe0284de862da11c91b1f347099d5704673837db01a6b0c289fee0a2d7236f64fba31fd6001475f957c23203e34fd6fb  kernel-cmdline.conf
b9f3e1902c17909de928c99868265a257ba5873f6ea6aa1097ad10721f59d68342d50ee51992472ecd23722f7664a13dd15f4e26071a40595c7c3e5161e533d7  modules-initfs
"
