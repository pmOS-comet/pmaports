--- a/drivers/nvmem/apple-spmi-nvmem.c
+++ b/drivers/nvmem/apple-spmi-nvmem.c
@@ -18,6 +18,24 @@ static const struct regmap_config apple_spmi_regmap_config = {
 	.max_register	= 0xffff,
 };

+static int apple_spmi_nvmem_read(void *priv,
+                                 unsigned int offset,
+                                 void *val,
+                                 size_t bytes)
+{
+    struct regmap *map = priv;
+    return regmap_bulk_read(map, offset, val, bytes);
+}
+
+static int apple_spmi_nvmem_write(void *priv,
+                                  unsigned int offset,
+                                  void *val,
+                                  size_t bytes)
+{
+    struct regmap *map = priv;
+    return regmap_bulk_write(map, offset, val, bytes);
+}
+
 static int apple_spmi_nvmem_probe(struct spmi_device *sdev)
 {
 	struct regmap *regmap;
@@ -28,8 +46,8 @@ static int apple_spmi_nvmem_probe(struct spmi_device *sdev)
 		.word_size = 1,
 		.stride = 1,
 		.size = 0xffff,
-		.reg_read = (void *)regmap_bulk_read,
-		.reg_write = (void *)regmap_bulk_write,
+		.reg_read = apple_spmi_nvmem_read,
+		.reg_write = apple_spmi_nvmem_write,
 	};

 	regmap = devm_regmap_init_spmi_ext(sdev, &apple_spmi_regmap_config);
