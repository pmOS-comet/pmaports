# Reference: <https://postmarketos.org/devicepkg>
maintainer="Neil Armstrong <neil.armstrong@linaro.org>"
pkgname=device-ayaneo-pocket-s2
pkgdesc="Ayaneo Pocket S2"
pkgver=2
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="
	alsa-ucm-conf-ayaneo-pocket-s2
	firmware-ayaneo-pocket-renesas-usb
	firmware-ayaneo-pocket-s2-adreno
	firmware-ayaneo-pocket-s2-adsp
	firmware-ayaneo-pocket-s2-ath12k
	firmware-ayaneo-pocket-s2-cdsp
	firmware-ayaneo-pocket-s2-iris
	firmware-ayaneo-pocket-s2-tplg
	linux-ayaneo-pocket-s2
	linux-firmware-ath12k
	linux-firmware-qca
	linux-firmware-qcom
	postmarketos-base
	soc-qcom
	systemd-boot
"
makedepends="devicepkg-dev"
source="
	deviceinfo
	kernel-cmdline.conf
	firmware.files
	modules-initfs
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname

	install -Dm644 "$srcdir"/firmware.files \
		-t "$pkgdir"/usr/share/mkinitfs/files
}

sha512sums="
2783943592780e261d287bce93f17e2d9baff853c11e6d7680d2efe6079181e033bf168f6cc91f07af99c89d15bef23a6daa7d4d0cae153b1b63f3f20c8f4e03  deviceinfo
6c6a1393fd91dbb565e5b09aacf5f18a0911de19074f25548174a2d1a6db6f52f27ea556bfb5f4731085c345c42047fddbacc2a77ffe288728ff96d4c7a2cbed  kernel-cmdline.conf
5c219e5532705402a2cff81ae792ee5d74751bccfe0038d5ea2d6701cc07df860808f7879ba93a80241bfbcb2a2527587b1c1d770602dd682c15f7d5800d03a3  firmware.files
bc2f6134fc2612344dacddfb4146d6c028f3d8916ba1e78598ed16307446f4266b76afadfdf18543813bbca2727eda8523b5f8467f89c65922e70221d004f899  modules-initfs
"
