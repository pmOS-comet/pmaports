# Reference: <https://postmarketos.org/devicepkg>
maintainer="Neil Armstrong <neil.armstrong@linaro.org>"
pkgname=device-ayaneo-pocket-s2
pkgdesc="Ayaneo Pocket S2"
pkgver=1
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="
	alsa-ucm-conf-ayaneo-pocket-s2
	firmware-ayaneo-pocket-renesas-usb
	firmware-ayaneo-pocket-s2-adreno
	firmware-ayaneo-pocket-s2-adsp
	firmware-ayaneo-pocket-s2-ath12k
	firmware-ayaneo-pocket-s2-cdsp
	firmware-ayaneo-pocket-s2-iris
	firmware-ayaneo-pocket-s2-tplg
	linux-ayaneo-pocket-s2
	linux-firmware-ath12k
	linux-firmware-qca
	linux-firmware-qcom
	postmarketos-base
	soc-qcom
	systemd-boot
"
makedepends="devicepkg-dev"
source="
	deviceinfo
	firmware.files
	modules-initfs
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname

	install -Dm644 "$srcdir"/firmware.files \
		-t "$pkgdir"/usr/share/mkinitfs/files
}

sha512sums="
233c4e0a7ac71516b0332200716a1ac27a33e26b77fca8726b4fdfc2f8f16cd30653aeb28ff6befe597d5f781da83cff2f194ebe4287d992756676e3ae68ea91  deviceinfo
5c219e5532705402a2cff81ae792ee5d74751bccfe0038d5ea2d6701cc07df860808f7879ba93a80241bfbcb2a2527587b1c1d770602dd682c15f7d5800d03a3  firmware.files
bc2f6134fc2612344dacddfb4146d6c028f3d8916ba1e78598ed16307446f4266b76afadfdf18543813bbca2727eda8523b5f8467f89c65922e70221d004f899  modules-initfs
"
