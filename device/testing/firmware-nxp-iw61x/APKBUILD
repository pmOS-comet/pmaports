maintainer="Gagan Malvi <gagan@ersa.dev>"
pkgname=firmware-nxp-iw61x
pkgver=1
pkgrel=1
pkgdesc="Firmware for the Mecha Comet M"
url="https://github.com/pmOS-comet/firmware-nxp-iw61x"
_commit="3bbfc0c60b1891a09a5160dc59ab460ad3fab5e4"
arch="aarch64"
license="proprietary"
options="!check !strip !archcheck !tracedeps pmb:cross-native"
source="firmware-nxp-iw61x.tar.gz::$url/archive/$_commit.tar.gz"
builddir="$srcdir/firmware-nxp-iw61x-$_commit"

package() {
	install -Dm644 "$builddir"/sduart_nw61x_v1.bin.se \
		"$pkgdir"/lib/firmware/postmarketos/nxp/sduart_nw61x_v1.bin.se
	install -Dm644 "$builddir"/sd_w61x_v1.bin.se \
		"$pkgdir"/lib/firmware/postmarketos/nxp/sd_w61x_v1.bin.se
	install -Dm644 "$builddir"/uartspi_n61x_v1.bin.se \
		"$pkgdir"/lib/firmware/postmarketos/nxp/uartspi_n61x_v1.bin.se
	install -Dm644 "$builddir"/uartuart_n61x_v1.bin.se \
		"$pkgdir"/lib/firmware/postmarketos/nxp/uartuart_n61x_v1.bin.se
}

sha512sums="
f94c4d2d555469a89202b9e4322f263efc74d7d7de1ba835890876e4380dda606fde84713a6e75c321b1206f524f072291851868debbb9214e62b904bd86ecd7  firmware-nxp-iw61x.tar.gz
"
