# Maintainer: Antony Kurniawan S. <postmarketos@smankusors.com>
pkgname=device-asus-zenfone3
pkgdesc="Asus Zenfone 3"
pkgver=3
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
depends="
	firmware-asus-zenfone3
	firmware-qcom-adreno-a530
	lk2nd-msm8953
	mkbootimg
	msm-firmware-loader
	postmarketos-base
	soc-qcom-msm8953
	soc-qcom-msm8953-modem
"
makedepends="devicepkg-dev"
subpackages="
	$pkgname-kernel-ze520kl:kernel_ze520kl
	$pkgname-kernel-ze552kl:kernel_ze552kl
"
source="
	deviceinfo
	modules-initfs
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

kernel_ze520kl() {
	depends="linux-postmarketos-qcom-msm8953"
	pkgdesc="Asus Zenfone 3 (ZE520KL)"
	devicepkg_subpackage_kernel $startdir $pkgname $subpkgname
}

kernel_ze552kl() {
	depends="linux-postmarketos-qcom-msm8953"
	pkgdesc="Asus Zenfone 3 (ZE552KL)"
	devicepkg_subpackage_kernel $startdir $pkgname $subpkgname
}

sha512sums="
24c832fdae2222b78afcdc180f8bc3881ff7443733d7f355b54822b31613954dde5f50490c1320a9c5d058884b464c89e2baa49880ede68140e566c8bb7b7a56  deviceinfo
a4c56173941e88434073d9980a687a82956fbcaaaf15068fd2b4fd9351011a934c82f67e62ce87440876d673784938cfdaedc70ae03e1943c95baef6205567b1  modules-initfs
"
