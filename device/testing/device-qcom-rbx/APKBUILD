# Reference: <https://postmarketos.org/devicepkg>
maintainer="Casey Connolly <kcxt@postmarketos.org>"
pkgname=device-qcom-rbx
pkgdesc="Generic device package for Qualcomm development boards"
pkgver=4
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="aarch64"
options="!check !archcheck"
# udisks2 is used by FWUPD to find the ESP for capsule updates
depends="
	linux-next
	systemd-boot
	postmarketos-base
	soc-qcom
	fwupd
	udisks2
"
_pmb_recommends="
	linux-firmware-qcom
	linux-firmware-qca
	linux-firmware-ath10k
	linux-firmware-ath11k
	linux-firmware-ath12k
	rmtfs
"

makedepends="devicepkg-dev"
source="
	deviceinfo
	kernel-cmdline.conf
	modules-initfs
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

sha512sums="
c98b1e452c534bb4b9f66ffa45f4fa1cd55bd30fa5a24ba179285560309473c07e2c5c2fc897548303fc1ccb4cd0ea74bdd41c715eb06df2772181c30b9abb48  deviceinfo
b011963364382785cfc3b80ec380007ab8ff413b772421de40d2004f2f4bbe4bbfb0ed2ff038f1060329689edfedbfe7269e690309317db18d6c2c3ce08dcb5a  kernel-cmdline.conf
c48cf25a8d95dbd077fa159daa7bee312921b47aa2e1ac628fea92a74520b039736ce6b82509954ba1c4f4b99ed32fd26d1b2602b900308dee87581fa87c7129  modules-initfs
"
