# Reference: https://postmarketos.org/uipkg
# Maintainer: Willow Barraco <contact@willowbarraco.fr>
# Co-Maintainer: Anjandev Momi <anjan@momi.ca>
# Co-Maintainer: Maarten van Gompel <proycon@anaproy.nl>
# Co-Maintainer: Aren Moynihan <aren@peacerevolution.org>
pkgname=postmarketos-ui-sxmo-de-river
pkgver=1.18.0 # Bump this so the file names in bpo are correct
pkgrel=0
pkgdesc="Simple Mobile: Mobile environment based on SXMO and running on river"
url="http://sr.ht/~mil/Sxmo"
arch="noarch"
license="AGPL-3.0-only"
depends="
	postmarketos-base-ui
	postmarketos-base-ui-audio
	postmarketos-base-ui-networkmanager

	sxmo-utils-river
	sxmo-utils-audio-bluetooth
	"
install="
	$pkgname.post-install
	$pkgname.post-upgrade
	"
_pmb_groups="
	seat
	"
_pmb_recommends="
	w3m
	sfeed

	adwaita-icon-theme
	clickclack
	imv
	postmarketos-artwork-wallpapers
	ttyescape
	"
provides="postmarketos-ui-sxmo"
provider_priority=7
options="!check pmb:drm"
subpackages="$pkgname-openrc"

package() {
	mkdir -p "$pkgdir"
}

openrc() {
	install_if="$pkgname=$pkgver-r$pkgrel openrc"
	install="$subpkgname.post-install $subpkgname.post-upgrade"
	depends="
		openrc
		seatd-openrc
		tinydm-openrc
		modemmanager-openrc
		networkmanager-openrc
		bluez-openrc
		iio-sensor-proxy-openrc
	"

	mkdir "$subpkgdir"
}
